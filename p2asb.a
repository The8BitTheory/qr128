; petscii to ascii conversion
; takes the result of pointer(x) as input (i). regx=loc lb, regy=loc hb, acc=length
; this is the single-bank version (ie for every system, except c128 or mega65)

; this routine is taken from the GoDot QR-Code Generator Module by Arndt Dettke

p2a ldy #0
.loop lda (z_location),y
  bmi +
  cmp #$40
  bcc ++
  ora #$20
+ and #$3f
  ora #$40
++  sta (z_location2),y
  iny
  cpy contentLength
  bne .loop
  rts

