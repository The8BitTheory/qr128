#RetroDevStudio.MetaData.BASIC:7169,Walrus BASIC 8,uppercase,10,10



4 @WALRUS,1:@MODE,0:@SCREEN,4:@CLEAR,0



5 REM BLOAD"QR.2800.BIN",B0,U(DD)
6 H$="MARINETRAFFIC.COM/EN/AIS/DETAILS/SHIPS/MMSI:"
10 T$="207072329"

16 DEF FN LB(ZZ)=ZZ-INT(ZZ/256)*256
17 DEF FN HB(ZZ)=INT(ZZ/256)

25 T$=H$+T$

35 PRINT"GENERATING QR-CODE..."
40 S=TI

42 I=POINTER(T$)
43 BANK1:I1=PEEK(I+1):I2=PEEK(I+2):I=PEEK(I):BANK15

# $FD/$FE: PIXEL OUTPUT ADDRESS: $0400
# $BD: PIXEL OUTPUT BANK: 1
44 POKE DEC("BD"),1:POKE DEC("FD"),0:POKE DEC("FE"),4

45 FAST:SYS DEC("2800"),I,I1,I2:SLOW:I=PEEK(DEC("FD")):X=PEEK(DEC("FB")):Y=PEEK(DEC("FC"))
46 F=X+Y*256:L=A:PRINT "DATA AT"F", L="L

114 S=TI-S

120 PRINT T$
121 PRINT "TOOK"S"JIFFIES"

155 PRINT "N   NEW QR-CODE"
156 PRINT "X   EXIT"

160 GET I$:IF I$="" THEN 160
163 IF I$="N" THEN 170
164 IF I$="X" THEN 199
169 GOTO 150

170 PRINT "URL TO ENCODE (WITHOUT "H$"):"
180 INPUT T$:IF T$="X" THEN 199
190 GOTO 25

199 @TEXT:END
