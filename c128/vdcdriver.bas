#RetroDevStudio.MetaData.BASIC:7169,BASIC V7.0 VDC,uppercase,10,10
5 GRAPHIC1:GRAPHIC0
10 REM TESTPROGRAM TO USE VDC-BASIC TO DRAW QR-CODE TO VDC

15 BE=PEEK(4624)+PEEK(4625)*256

20 BLOAD"VDCBASIC2D.0AC6",B0:SYS DEC("AC6")
30 REM BLOAD"QR.3060.BIN",B0
40 H$="MARINETRAFFIC.COM/EN/AIS/DETAILS/SHIPS/MMSI:"
50 T$="207072329"
60 T$=H$+T$

70 I=POINTER(T$)
80 BANK1:I1=PEEK(I+1):I2=PEEK(I+2):I=PEEK(I):BANK15

# $FD/$FE: PIXEL OUTPUT ADDRESS: END OF BASIC
# $BD: PIXEL OUTPUT BANK: 0
90 POKE DEC("BD"),0:POKE DEC("FD"),PEEK(4624):POKE DEC("FE"),PEEK(4625)

100 SYS DEC("3060"),I,I1,I2:RREGA,X,Y
#46 I=PEEK(DEC("FD")):X=PEEK(DEC("FB")):Y=PEEK(DEC("FC"))
110 F=X+Y*256:L=A:PRINT "DATA AT"F", L="L


111 ::RGO 28,16:REM 64K VRAM
112 ::RGO 25,128:RGA 25,255-64:REM BITMAP MODE ON, NO ATTRIBUTES

# 2 SCANLINES PER CHAR, 156 SCANLINES (EACH VAL +1)
113 ::RGW 0,127
114 ::RGW 4,155
115 ::RGW 6,100
116 ::RGW 7,140
117 ::RGW 9,1
118 ::RGW 36,0

120 DISP 0:VMF 0,0,16000

130 FOR X=0TO29
131  RTV BE+X*4,X*80,4
132 NEXT